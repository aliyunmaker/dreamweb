provider "alicloud" {
  region = "cn-hangzhou"
}

resource "alicloud_instance" "instance" {
  vswitch_id          = "vsw-bp1tipegxihb0brq0qy61"
  instance_type       = "ecs.n2.small"
  instance_name       = "instance_name_test"
  count               = var.number_of_instances
  image_id           = "ubuntu_18_04_64_20G_alibase_20190624.vhd"
  security_groups     = ["sg-bp103rdxtizwmfam0tfa"]
  tags = {
        application = "application1"
        environmentType = "product"
    }
}

variable "number_of_instances" {
  type = number
  default = 1
}

