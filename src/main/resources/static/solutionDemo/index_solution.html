<html>
<head>
    <title>无限梦想</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!--
    <meta http-equiv="pragma" content="no-cache" />
    -->
    <link href="https://dream-web.oss-cn-hangzhou.aliyuncs.com/static/css/bootstrap.min.4_3_1.css" rel="stylesheet">
    <script type="text/javascript"
            src="https://dream-web.oss-cn-hangzhou.aliyuncs.com/static/jslib/jquery.min.js"></script>
    <script type="text/javascript" src="https://dream-web.oss-cn-hangzhou.aliyuncs.com/static/extjs/4.1/ext-all.js"></script>
    <script type="text/javascript" src="https://dream-web.oss-cn-hangzhou.aliyuncs.com/static/jslib/myComponent.js"></script>
    <script type="text/javascript" src="bootstrap.js"></script>
    <script type="text/javascript" src="bootstrap.bundle.js"></script>
    <script type="text/javascript">
        function requestParam() {
            var url = location.search;
            if (url.indexOf('?') == -1) {
                return null;
            }
            var paramsStr = url.substr(1).split("&");
            var paramObj = {};
            for (var i = 0; i < paramsStr.length; i++) {
                var kv = paramsStr[i].split('=');
                var key = kv[0], value = decodeURI(kv[1]);
                paramObj[key] = value
            }
            return paramObj;
        }

        function setIframeHeight(offset) {
            iframe = document.getElementById("iframe");
            if (iframe) {
                var iframeWin = iframe.contentWindow || iframe.contentDocument.parentWindow;
                if (iframeWin.document.body) {
                    let newHeight = iframeWin.document.body.scrollHeight + offset;
                    iframe.height = newHeight;
                    iframe.style.height = newHeight;
                }
            }
        };

        function loadWebPage(src) {
            var srcDiv = '<iframe id="iframe" style="overflow-y:hidden; width:100%;" frameborder="0" width="100%" onload="setIframeHeight(80)" class="embed-responsive-item" src="' + src + '"></iframe>';
            $("#srcDiv").html(srcDiv);
        }

        window.onresize = function () {
            setIframeHeight(80);
        }

        window.onload = function() {
            var urlParam = requestParam();
            var name = urlParam["name"];
            var menu = JSON.parse(urlParam["menu"]);
            $("#name").html(name);
            let menuDiv = '';
            let keys = Object.keys(menu)
            for (let index = 0; index < keys.length; index++) {
                const key = keys[index];
                if (index == 0) {
                    menuDiv += '<label class="btn btn-outline-primary active"><input type="radio" name="options" onchange="loadWebPage(&apos;' + menu[key] + '&apos;);" autocomplete="off" checked>' + key + '</label>';
                    loadWebPage(menu[key]);
                } else {
                    menuDiv += '<label class="btn btn-outline-primary"><input type="radio" name="options" onchange="loadWebPage(&apos;' + menu[key] + '&apos;);" autocomplete="off">' + key + '</label>';
                }
            }
            $("#menu").html(menuDiv);
        }
    </script>
</head>
<body>
    <div class="container-fluid">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" id="name"></a>
    
            <div class="btn-group btn-group-toggle" data-toggle="buttons" id="menu">
    
            </div>
        </nav>
    
        <br>
        <div class="content content-full" id="srcDiv">
    
        </div>
    </div>
</body>
</html>